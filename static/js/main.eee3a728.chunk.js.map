{"version":3,"sources":["components/Login/Login.module.css","components/Header/Header.module.css","utils/validator/validators.js","api/api.js","redux/cabinet-reducer.js","components/Cabinet/Cabinet.jsx","hoc/WithAuthRedirect.jsx","components/Cabinet/CabinetContainer.jsx","components/Header/Header.jsx","components/common/FormsControls.jsx","redux/auth-reducer.js","components/Login/Login.jsx","components/LoginPage/LoginPage.jsx","components/Header/HeaderContainer.jsx","App.js","reportWebVitals.js","redux/login-reducer.js","redux/redux-store.js","index.js","components/Cabinet/Cabinet.module.css","components/common/FormsControls.module.css"],"names":["module","exports","maxLength","minLength","instanse","axios","baseURL","usersAPI","get","then","response","data","instanseAuth","withCredentials","headers","profileAPI","id","authAPI","authMe","login","email","password","rememberMe","post","logout","delete","initialState","users","SET_USERS","cabinetReducer","state","action","type","Cabinet","props","usersElements","map","t","className","css","item","avatar","src","name","mapStateToPropsForRedirect","isAuth","auth","CabinetContainer","this","getUsersThunk","React","Component","WithAuthRedirect","RedirectComponent","to","connect","cabinetPage","dispatch","Header","header","logo","alt","loginBlock","authAvatar","authBtn","onClick","requiredField","value","Input","input","meta","hasError","touched","error","formControl","SET_AUTH_USER_DATA","SET_AUTH_AVATAR","setAuthUserData","payload","getAuthUserData","resultCode","photos","small","authReducer","maxLengthCreator30","length","minLengthCreator5","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","formTitle","formInputs","inputTitle","Field","validate","placeholder","component","formButtons","formCheckbox","formSignIn","href","signupLink","formData","console","log","LoginPage","HeaderContainer","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","authData","SET_AUTH_DATA","SET_FORM_DATA","loginReducer","reducers","combineReducers","loginPage","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eee3a728.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__3Vbmo\",\"formTitle\":\"Login_formTitle__cxTSo\",\"h2\":\"Login_h2__2veKZ\",\"inputTitle\":\"Login_inputTitle__FgVd1\",\"formSignIn\":\"Login_formSignIn__1NYQN\",\"formInputs\":\"Login_formInputs__21NLB\",\"formButtons\":\"Login_formButtons__2paKS\",\"formCheckbox\":\"Login_formCheckbox__3BD6B\",\"signupLink\":\"Login_signupLink__aKF4F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__1uW65\",\"header\":\"Header_header__10Hwk\",\"loginBlock\":\"Header_loginBlock__1eOx4\",\"authAvatar\":\"Header_authAvatar__2ix7R\",\"authBtn\":\"Header_authBtn__h_Jw5\"};","export const requiredField = value => {\r\n\r\n    if(value){\r\n        return undefined;\r\n    } \r\n    return 'Это поле обязательное для ввода';\r\n    \r\n}\r\n \r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength){\r\n        return `Максимальная длина ${maxLength} символов`;\r\n    }   \r\n    return undefined;\r\n}\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if(value.length < minLength){\r\n        return `Минимальная длина ${minLength} символов`;\r\n    }   \r\n    return undefined;\r\n}\r\n","import * as axios from 'axios';\r\n\r\n\r\n//second part of API to get users\r\n\r\nconst instanse = axios.create({\r\n    \r\n    baseURL: 'https://my-json-server.typicode.com/dithmaa/demoapi/'\r\n\r\n});\r\n\r\n\r\nexport const usersAPI = { \r\n    \r\n    getUsers(){\r\n        return(\r\n            instanse.get(`people`).then(response=>{\r\n                return(\r\n                    response.data\r\n                )\r\n            })\r\n        )\r\n        \r\n    }\r\n}\r\n\r\n\r\n\r\n//second part of API for Auth\r\n\r\n\r\nconst instanseAuth = axios.create({\r\n    \r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"eee580e9-41e0-4287-85f4-dd8d66773124\"\r\n    }\r\n\r\n});\r\n\r\nexport const profileAPI = { \r\n    getProfile (id) {\r\n        return (\r\n            instanseAuth.get(`profile/` + id)\r\n            .then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe () { \r\n        return (\r\n            instanseAuth.get(`auth/me`)\r\n            .then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    }, \r\n    login (email,password,rememberMe = false){\r\n        return (\r\n            instanseAuth.post(`auth/login`, { email,password,rememberMe }).then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    },\r\n    logout (){\r\n        return (\r\n            instanseAuth.delete(`auth/login`).then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    },\r\n}","import {usersAPI} from '../api/api';\r\nlet initialState = {\r\n    users: []\r\n}\r\nconst cabinetReducer = (state = initialState, action) => {\r\n    let type = action.type;\r\n    switch (type) {\r\n        \r\n        \r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst SET_USERS = 'SET_USERS';\r\n\r\nexport const setUsers = users => ({ type: SET_USERS, users });\r\n\r\nexport const getUsersThunk = () => {\r\n    return (dispatch) => {\r\n        usersAPI.getUsers().then(data=>{\r\n            return(\r\n                dispatch(setUsers(data))\r\n            )\r\n        })\r\n    }\r\n}\r\nexport default cabinetReducer;","import React from \"react\";\r\nimport css from \"./Cabinet.module.css\";\r\n\r\nconst Cabinet = (props) => {\r\n    let usersElements = props.users.map((t)=>{\r\n\r\n        return(\r\n            <div>\r\n                <li>\r\n                    <div className={css.item + \" flex aic\"}>\r\n                        <div className={css.avatar}>\r\n                            <img src={\r\n                                t.avatar \r\n                                ? t.avatar\r\n                                : \"https://media.istockphoto.com/photos/learn-to-love-yourself-first-picture-id1291208214?k=20&m=1291208214&s=170667a&w=0&h=6-AdcacaQelZJy5ASr9A9cmueE6PmMtSabYE72ZYz9w=\"\r\n                            } />\r\n                        </div>\r\n                        <span className=\"name\">\r\n                            {t.name}\r\n                        </span>\r\n                    </div>\r\n                </li>\r\n            </div>\r\n        )\r\n    });\r\n    return(\r\n        <div className=\"container mt-5 \">\r\n            <h2 className={\"tac\"}>Личный кабинет</h2>\r\n            <ul>\r\n                <p>Список пользователей:</p>\r\n                {usersElements}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Cabinet;","import React from 'react';\r\nimport { Navigate } from 'react-router';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => { // создаём новый mapStateToProps, чтобы каждый раз не передавать isAuth\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport const WithAuthRedirect = (Component) => { // приходит компонента в виде аргумента\r\n\r\n    class RedirectComponent extends React.Component { // классовая компонента\r\n        render() {\r\n            if(!this.props.isAuth){return(<Navigate to={'/login'}/>)} // если не зареган то на логин\r\n            return(<Component {...this.props}/>) // если зареган показать компоненту и передать пропсы\r\n        }\r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent); // обернём connect чтобы передать mapStateToProps\r\n\r\n    return ConnectedAuthRedirectComponent; \r\n\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {getUsersThunk} from './../../redux/cabinet-reducer';\r\nimport Cabinet from \"./Cabinet\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nclass CabinetContainer extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    componentDidMount(){\r\n        this.props.getUsersThunk();\r\n    }\r\n    render() {\r\n        return (\r\n            <Cabinet {...this.props} />\r\n            \r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.cabinetPage.users\r\n    }\r\n}\r\nexport default WithAuthRedirect(connect(mapStateToProps,{getUsersThunk})(CabinetContainer));","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport  css from './Header.module.css';\r\n\r\nconst Header = (props) =>{\r\n    return(\r\n        <header className={css.header + ' flex jcsb aic'}>\r\n            <div className={css.logo}>\r\n                <img src=\"https://logojinni.com/ru/image/logos/react-446.svg\" alt=\"logo\" />\r\n            </div>\r\n            <div className={css.loginBlock + ' flex aic'}>\r\n                <div className={css.authAvatar}>\r\n                    <img src={\r\n                        props.authAvatar === null \r\n                        ? \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRulDSF3olTEVxK5pO15lf9pQxBSBdtBin8pM9woDkK-O8P3k7fCeKYLSaUD_Z1on8dzhI&usqp=CAU\"\r\n                        : props.authAvatar\r\n                    } alt=\"\" />\r\n                </div>\r\n                {\r\n                    props.isAuth \r\n                    ? <div>{props.login} - <span  className={css.authBtn} onClick={\r\n                        props.logout}>Выйти</span></div>\r\n                    : <NavLink to={'/login'}>\r\n                        <span className={css.authBtn}>Войти</span>\r\n                    </NavLink>\r\n                }\r\n                \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React from \"react\";\r\nimport css from './FormsControls.module.css';\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error; \r\n    return(\r\n        <span className={css.formControl + ' ' +  (hasError ? css.error : '')}>\r\n            <span>\r\n                <input {...input} {...props}></input>\r\n            </span>\r\n            {\r\n                hasError && <span>{meta.error}</span>\r\n            }\r\n        </span>\r\n    )\r\n}\r\n","import {authAPI, profileAPI} from '../api/api';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    authAvatar: null\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case SET_AUTH_AVATAR:\r\n            return {\r\n                ...state,\r\n                authAvatar: action.avatar\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst\r\n    SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA',\r\n    SET_AUTH_AVATAR = 'SET_AUTH_AVATAR';\r\n\r\nexport let setAuthUserData = (id, email, login, isAuth) => ({ type: SET_AUTH_USER_DATA, payload: { id, email, login, isAuth } });\r\nexport let setAuthAvatar = (avatar) => ({ type: SET_AUTH_AVATAR, avatar });\r\n\r\n//Thunk\r\n\r\nexport const getAuthUserData = () => {\r\n    return (\r\n        (dispatch) => { authAPI.authMe().then((data) => {  \r\n                if (data.resultCode === 0) {\r\n                    let { id, login, email } = data.data;\r\n                    dispatch(setAuthUserData(id, email, login, true));\r\n                    profileAPI.getProfile(id).then((data) => {\r\n                        dispatch(setAuthAvatar(data.photos.small));\r\n\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    )\r\n}\r\n\r\n// login && logout thunks\r\nexport const login = (email, password, rememberMe) => {\r\n    return (\r\n        (dispatch) => { authAPI.login(email, password, rememberMe).then((data) => {  \r\n                if (data.resultCode === 0) {\r\n                    dispatch(getAuthUserData());\r\n                }\r\n            });\r\n        }\r\n    )\r\n}\r\nexport const logout = () => {\r\n    return (\r\n        (dispatch) => { authAPI.logout().then((data) => {  \r\n                if (data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false));\r\n                }\r\n            });\r\n        }\r\n    )\r\n}\r\n\r\nexport default authReducer;\r\n\r\n\r\n","import React from 'react';\r\nimport css from './Login.module.css';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Field} from 'redux-form';\r\nimport { authAPI } from '../../api/api';\r\nimport { connect } from 'react-redux';\r\n// import {setFormData} from './../../redux/login-reducer';\r\nimport Header from '../Header/Header';\r\nimport { maxLengthCreator, minLengthCreator, requiredField } from '../../utils/validator/validators';\r\nimport { Input } from '../common/FormsControls';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst maxLengthCreator30 = maxLengthCreator(30);\r\nconst minLengthCreator5 = minLengthCreator(5);\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return(\r\n    <>\r\n       \r\n        \r\n        <form className={css.form + ' flex fxdc'} onSubmit={props.handleSubmit}>\r\n            <h2 className={css.formTitle}>\r\n                Вход\r\n            </h2>\r\n            <div className={css.formInputs}>\r\n                <div className={css.input}>\r\n                    <h3 className={css.inputTitle}>Email: </h3>\r\n                    <Field validate={[requiredField, maxLengthCreator30, minLengthCreator5]} type=\"text\" name={\"email\"} placeholder={\"Email\"} component={Input} />\r\n                </div>\r\n                <div className={css.input}>\r\n                    <h3 className={css.inputTitle}>Пароль: </h3>\r\n                    <Field validate={[requiredField, maxLengthCreator30, minLengthCreator5]} type=\"password\" name={\"password\"} placeholder={\"Пароль\"} component={Input}  />\r\n                </div>\r\n            </div>\r\n            <div className={css.formButtons + ' flex jcsb aic'}>\r\n                <label className={css.formCheckbox}>\r\n                    <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"} />\r\n                    <span>Запомнить меня</span>\r\n                </label>\r\n                <input type=\"submit\" className={css.formSignIn}>\r\n\r\n                </input>\r\n            </div>\r\n            <a href=\"#\" className={css.signupLink}>\r\n                Регистрация\r\n            </a>\r\n            \r\n        </form>\r\n    </>\r\n\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nconst Login = (props) => {\r\n    debugger;\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n\r\n    }\r\n    if(props.isAuth){ //true\r\n        return <Navigate to={\"/cabinet\"} />\r\n        \r\n    }\r\n    \r\n    return(\r\n        <div className={css.login}>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport Login from '../Login/Login';\r\n\r\n\r\nconst LoginPage = () => {\r\n    return(\r\n        <div className={\"container mt-5\"}>\r\n          <h2 className={\"tac\"}>Вход в личный кабинет</h2>\r\n          <Login/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport {getAuthUserData, logout} from '../../redux/auth-reducer.js';\r\nimport * as axios from 'axios';\r\nimport { authAPI } from '../../api/api';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.getAuthUserData();\r\n      \r\n    }\r\n    render(){\r\n        return(<Header {...this.props}/>);\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        id: state.auth.id,\r\n        authAvatar: state.auth.authAvatar\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData, logout})(HeaderContainer);","// import { Route } from 'react-router';\nimport { NavLink, Route, Routes, Link } from 'react-router-dom';\nimport './App.css';\nimport CabinetContainer from './components/Cabinet/CabinetContainer';\nimport LoginPage from './components/LoginPage/LoginPage';\nimport HeaderContainer from './components/Header/HeaderContainer';\n\nconst App = () => {\n  return (\n\n    \n      <div className=\"App\">\n        <div className='container'>\n        <HeaderContainer/>\n        </div>\n        <Routes>\n          <Route path=\"/cabinet\" element={<CabinetContainer/>}/>\n          <Route path=\"/login\" element={<LoginPage/>}/>\n        </Routes>\n      </div>\n\n\n\n\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {authAPI} from '../api/api';\r\nlet initialState = {\r\n    authData: [],\r\n    formData : ''\r\n}\r\nconst loginReducer = (state = initialState, action) => {\r\n    let type = action.type;\r\n    switch (type) {\r\n        \r\n        \r\n        case SET_AUTH_DATA: {\r\n            return {\r\n                ...state,\r\n                authData: [...state.authData, action.authData]\r\n            }\r\n        }\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                formData: [...state.formData, action.formData]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst SET_AUTH_DATA = 'SET_AUTH_DATA';\r\nconst SET_FORM_DATA = 'SET_FORM_DATA';\r\n\r\nexport const setAuthData = authData => ({ type: SET_AUTH_DATA, authData });\r\nexport const setFormData = formData => ({ type: SET_FORM_DATA, formData });\r\n\r\nexport const getAuthDataThunk = () => {\r\n    return (dispatch) => {\r\n        authAPI.getAuthData().then(data=>{\r\n            return(\r\n                dispatch(setAuthData(data))\r\n            )\r\n        })\r\n    }\r\n}\r\nexport default loginReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport cabinetReducer from './cabinet-reducer';\r\nimport loginReducer from './login-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'; \r\nimport authReducer from \"./auth-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    cabinetPage: cabinetReducer,\r\n    loginPage: loginReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\nwindow.store = store; // for debugger","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from './redux/redux-store';\n\nReactDOM.render(\n  <React.StrictMode>\n    \n      <BrowserRouter>\n      \n        <Provider store={store}>\n          <App />\n        </Provider>\n      </BrowserRouter>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Cabinet_avatar__3tJmq\",\"item\":\"Cabinet_item__w79LQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1U5MQ\",\"error\":\"FormsControls_error__2VWGp\"};"],"sourceRoot":""}