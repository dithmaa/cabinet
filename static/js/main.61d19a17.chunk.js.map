{"version":3,"sources":["components/Login/Login.module.css","components/Header/Header.module.css","utils/validator/validators.js","api/api.js","redux/cabinet-reducer.js","components/OwnCabinet/OwnCabinet.jsx","hoc/WithAuthRedirect.jsx","components/OwnCabinet/OwnCabinetContainer.jsx","components/Header/Header.jsx","components/common/FormsControls.jsx","redux/auth-reducer.js","components/Login/Login.jsx","components/LoginPage/LoginPage.jsx","components/Header/HeaderContainer.jsx","App.js","reportWebVitals.js","redux/login-reducer.js","redux/redux-store.js","index.js","components/OwnCabinet/OwnCabinet.module.css","components/common/FormsControls.module.css"],"names":["module","exports","maxLength","minLength","instanse","axios","baseURL","usersAPI","get","then","response","data","userData","post","name","avatar","userId","delete","instanseAuth","withCredentials","headers","profileAPI","id","authAPI","authMe","login","email","password","rememberMe","logout","initialState","users","SET_USERS","ADD_USER","REMOVE_USER","addUserThunk","dispatch","type","addUser","cabinetReducer","state","action","temp","splice","console","log","OwnCabinetFormRedux","reduxForm","form","props","onSubmit","handleSubmit","Field","component","placeholder","connect","usersElements","map","t","className","css","item","src","itemButton","danger","onClick","removeUserThunk","formData","mapStateToPropsForRedirect","isAuth","auth","OwnCabinetContainer","this","getUsersThunk","React","Component","WithAuthRedirect","RedirectComponent","to","cabinetPage","removeUser","Header","header","logo","alt","loginBlock","authAvatar","authBtn","requiredField","value","Input","input","meta","hasError","touched","error","formControl","SET_AUTH_USER_DATA","SET_AUTH_AVATAR","setAuthUserData","payload","getAuthUserData","resultCode","photos","small","authReducer","maxLengthCreator30","length","minLengthCreator5","LoginReduxForm","formTitle","formInputs","inputTitle","validate","formButtons","formCheckbox","formSignIn","href","signupLink","LoginPage","HeaderContainer","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","authData","SET_AUTH_DATA","SET_FORM_DATA","loginReducer","reducers","combineReducers","loginPage","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61d19a17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__3Vbmo\",\"formTitle\":\"Login_formTitle__cxTSo\",\"h2\":\"Login_h2__2veKZ\",\"inputTitle\":\"Login_inputTitle__FgVd1\",\"formSignIn\":\"Login_formSignIn__1NYQN\",\"formInputs\":\"Login_formInputs__21NLB\",\"formButtons\":\"Login_formButtons__2paKS\",\"formCheckbox\":\"Login_formCheckbox__3BD6B\",\"signupLink\":\"Login_signupLink__aKF4F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__1uW65\",\"header\":\"Header_header__10Hwk\",\"loginBlock\":\"Header_loginBlock__1eOx4\",\"authAvatar\":\"Header_authAvatar__2ix7R\",\"authBtn\":\"Header_authBtn__h_Jw5\"};","export const requiredField = value => {\r\n\r\n    if(value){\r\n        return undefined;\r\n    } \r\n    return 'Это поле обязательное для ввода';\r\n    \r\n}\r\n \r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength){\r\n        return `Максимальная длина ${maxLength} символов`;\r\n    }   \r\n    return undefined;\r\n}\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if(value.length < minLength){\r\n        return `Минимальная длина ${minLength} символов`;\r\n    }   \r\n    return undefined;\r\n}\r\n","import * as axios from 'axios';\r\n\r\n\r\n//second part of API to get users\r\n\r\nconst instanse = axios.create({\r\n    \r\n    baseURL: 'https://my-json-server.typicode.com/dithmaa/demoapi/'\r\n    // baseURL: 'http://localhost:3000/'\r\n\r\n});\r\n\r\n\r\nexport const usersAPI = { \r\n    \r\n    getUsers(){\r\n        return(\r\n            instanse.get(`people`).then(response=>{\r\n                return(\r\n                    response.data\r\n                )\r\n            })\r\n        )\r\n        \r\n    },\r\n    addUser(userData){\r\n        return(\r\n            instanse.post(`people`, {\r\n                name: userData.name,\r\n                avatar: userData.avatar \r\n            })\r\n        )\r\n    },\r\n    removeUser(userId){\r\n        return(\r\n            instanse.delete(`people/${userId}`)\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n//second part of API for Auth\r\n\r\n\r\nconst instanseAuth = axios.create({\r\n    \r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"eee580e9-41e0-4287-85f4-dd8d66773124\"\r\n    }\r\n\r\n});\r\n\r\nexport const profileAPI = { \r\n    getProfile (id) {\r\n        return (\r\n            instanseAuth.get(`profile/` + id)\r\n            .then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe () { \r\n        return (\r\n            instanseAuth.get(`auth/me`)\r\n            .then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    }, \r\n    login (email,password,rememberMe = false){\r\n        return (\r\n            instanseAuth.post(`auth/login`, { email,password,rememberMe }).then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    },\r\n    logout (){\r\n        return (\r\n            instanseAuth.delete(`auth/login`).then((response) => {\r\n                return(\r\n                    response.data\r\n                );\r\n            })\r\n        )\r\n    },\r\n}","import {usersAPI} from '../api/api';\r\nlet initialState = {\r\n    users: []\r\n}\r\nconst cabinetReducer = (state = initialState, action) => {\r\n    let type = action.type;\r\n    switch (type) {\r\n        \r\n        \r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case ADD_USER: {\r\n            return {\r\n                ...state,\r\n                users: [...state.users, action.userData]\r\n            }\r\n        }\r\n        case REMOVE_USER: {\r\n            const temp = [...state.users];\r\n            // console.log(\"Полный users = \", temp);\r\n            temp.splice((action.userId - 1),1);\r\n            console.log(\"Новый users = \", temp);\r\n            // console.log(\"Id того, кого удалили = \", action.userId);\r\n\r\n            return {\r\n                \r\n                ...state,\r\n                users: temp\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst SET_USERS = 'SET_USERS';\r\nconst ADD_USER = 'ADD_USER';\r\nconst REMOVE_USER = 'REMOVE_USER';\r\n\r\nexport const setUsers = users => ({ type: SET_USERS, users });\r\nexport const addUser = userData => ({ type: ADD_USER, userData });\r\nexport const removeUser = userId => ({ type: REMOVE_USER, userId });\r\n\r\nexport const getUsersThunk = () => {\r\n    return (dispatch) => {\r\n        usersAPI.getUsers().then(data=>{\r\n            return(\r\n                dispatch(setUsers(data))\r\n            )\r\n        })\r\n    }\r\n}\r\nexport const addUserThunk = (userData) => {\r\n    return (dispatch) => {\r\n        usersAPI.addUser(userData).then(response=>{\r\n            return(\r\n                dispatch(addUser(response.data))\r\n            )\r\n            \r\n        })\r\n    }\r\n}\r\nexport const removeUserThunk = (userId) => {\r\n    return (dispatch) => {\r\n        usersAPI.removeUser(userId).then(response=>{\r\n            return(\r\n                dispatch(removeUser(userId))\r\n            )\r\n            \r\n        })\r\n    }\r\n}\r\nexport default cabinetReducer;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport css from \"./OwnCabinet.module.css\";\r\nimport {addUserThunk} from '../../redux/cabinet-reducer';\r\n\r\nconst OwnCabinetForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={\"input\"} type=\"text\" name=\"name\" placeholder=\"Имя\" />\r\n            <button>Добавить пользователя</button>\r\n        </form>\r\n    )\r\n}\r\nconst OwnCabinetFormRedux = reduxForm({form: 'OwnCabinetForm'})(OwnCabinetForm);\r\n\r\nconst OwnCabinet = (props) => { \r\n    let usersElements = props.users.map((t)=>{\r\n\r\n        return(\r\n            <div>\r\n                <li>\r\n                    <div className={css.item + \" flex aic\"}>\r\n                        <div className={css.avatar}>\r\n                            <img src={\r\n                                t.avatar \r\n                                ? t.avatar\r\n                                : \"https://media.istockphoto.com/photos/learn-to-love-yourself-first-picture-id1291208214?k=20&m=1291208214&s=170667a&w=0&h=6-AdcacaQelZJy5ASr9A9cmueE6PmMtSabYE72ZYz9w=\"\r\n                            } />\r\n                        </div>\r\n                        <span className={css.name}>\r\n                            {t.name}\r\n                        </span>\r\n                        <button className={css.itemButton + \" \" + css.danger} onClick={()=>{\r\n                            props.removeUserThunk(t.id)\r\n                        }}>&#10006;</button>\r\n                    </div>\r\n                </li>\r\n            </div>\r\n        )\r\n    });\r\n\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.addUserThunk({name: formData.name, avatar: null })\r\n    }\r\n    return(\r\n        <div className=\"container mt-5 \">\r\n            <h2 className={\"tac\"}>Личный кабинет</h2>\r\n            <ul>\r\n                <p>Список пользователей:</p>\r\n                {usersElements}\r\n            </ul>\r\n            <OwnCabinetFormRedux {...props} onSubmit={onSubmit}/>\r\n            <p>\r\n                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptas reiciendis veritatis eaque eveniet excepturi expedita dolores ipsam est provident voluptate quam delectus consequatur, consequuntur rerum repellendus nisi omnis, quae debitis?\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(null,{addUserThunk})(OwnCabinet);","import React from 'react';\r\nimport { Navigate } from 'react-router';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => { // создаём новый mapStateToProps, чтобы каждый раз не передавать isAuth\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport const WithAuthRedirect = (Component) => { // приходит компонента в виде аргумента\r\n\r\n    class RedirectComponent extends React.Component { // классовая компонента\r\n        render() {\r\n            if(!this.props.isAuth){return(<Navigate to={'/login'}/>)} // если не зареган то на логин\r\n            return(<Component {...this.props}/>) // если зареган показать компоненту и передать пропсы\r\n        }\r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent); // обернём connect чтобы передать mapStateToProps\r\n\r\n    return ConnectedAuthRedirectComponent; \r\n\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {getUsersThunk, addUserThunk, removeUserThunk} from '../../redux/cabinet-reducer';\r\nimport OwnCabinet from \"./OwnCabinet\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nclass OwnCabinetContainer extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    componentDidMount(){\r\n        this.props.getUsersThunk();\r\n    }\r\n    render() {\r\n        return (\r\n            <OwnCabinet {...this.props} />\r\n            \r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.cabinetPage.users\r\n    }\r\n}\r\nexport default WithAuthRedirect(connect(mapStateToProps,{getUsersThunk,addUserThunk, removeUserThunk})(OwnCabinetContainer));","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport  css from './Header.module.css';\r\n\r\nconst Header = (props) =>{\r\n    return(\r\n        <header className={css.header + ' flex jcsb aic'}>\r\n            <div className={css.logo}>\r\n                <img src=\"https://logojinni.com/ru/image/logos/react-446.svg\" alt=\"logo\" />\r\n            </div>\r\n            <div className={css.loginBlock + ' flex aic'}>\r\n                <div className={css.authAvatar}>\r\n                    <img src={\r\n                        props.authAvatar === null \r\n                        ? \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRulDSF3olTEVxK5pO15lf9pQxBSBdtBin8pM9woDkK-O8P3k7fCeKYLSaUD_Z1on8dzhI&usqp=CAU\"\r\n                        : props.authAvatar\r\n                    } alt=\"\" />\r\n                </div>\r\n                {\r\n                    props.isAuth \r\n                    ? <div>{props.login} - <span  className={css.authBtn} onClick={\r\n                        props.logout}>Выйти</span></div>\r\n                    : <NavLink to={'/login'}>\r\n                        <span className={css.authBtn}>Войти</span>\r\n                    </NavLink>\r\n                }\r\n                \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React from \"react\";\r\nimport css from './FormsControls.module.css';\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error; \r\n    return(\r\n        <span className={css.formControl + ' ' +  (hasError ? css.error : '')}>\r\n            <span>\r\n                <input {...input} {...props}></input>\r\n            </span>\r\n            {\r\n                hasError && <span>{meta.error}</span>\r\n            }\r\n        </span>\r\n    )\r\n}\r\n","import {authAPI, profileAPI} from '../api/api';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    authAvatar: null\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case SET_AUTH_AVATAR:\r\n            return {\r\n                ...state,\r\n                authAvatar: action.avatar\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst\r\n    SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA',\r\n    SET_AUTH_AVATAR = 'SET_AUTH_AVATAR';\r\n\r\nexport let setAuthUserData = (id, email, login, isAuth) => ({ type: SET_AUTH_USER_DATA, payload: { id, email, login, isAuth } });\r\nexport let setAuthAvatar = (avatar) => ({ type: SET_AUTH_AVATAR, avatar });\r\n\r\n//Thunk\r\n\r\nexport const getAuthUserData = () => {\r\n    return (\r\n        (dispatch) => { authAPI.authMe().then((data) => {  \r\n                if (data.resultCode === 0) {\r\n                    let { id, login, email } = data.data;\r\n                    dispatch(setAuthUserData(id, email, login, true));\r\n                    profileAPI.getProfile(id).then((data) => {\r\n                        dispatch(setAuthAvatar(data.photos.small));\r\n\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    )\r\n}\r\n\r\n// login && logout thunks\r\nexport const login = (email, password, rememberMe) => {\r\n    return (\r\n        (dispatch) => { authAPI.login(email, password, rememberMe).then((data) => {  \r\n                if (data.resultCode === 0) {\r\n                    dispatch(getAuthUserData());\r\n                }\r\n            });\r\n        }\r\n    )\r\n}\r\nexport const logout = () => {\r\n    return (\r\n        (dispatch) => { authAPI.logout().then((data) => {  \r\n                if (data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false));\r\n                }\r\n            });\r\n        }\r\n    )\r\n}\r\n\r\nexport default authReducer;\r\n\r\n\r\n","import React from 'react';\r\nimport css from './Login.module.css';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Field} from 'redux-form';\r\nimport { authAPI } from '../../api/api';\r\nimport { connect } from 'react-redux';\r\n// import {setFormData} from './../../redux/login-reducer';\r\nimport Header from '../Header/Header';\r\nimport { maxLengthCreator, minLengthCreator, requiredField } from '../../utils/validator/validators';\r\nimport { Input } from '../common/FormsControls';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst maxLengthCreator30 = maxLengthCreator(30);\r\nconst minLengthCreator5 = minLengthCreator(5);\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return(\r\n    <>\r\n       \r\n        \r\n        <form className={css.form + ' flex fxdc'} onSubmit={props.handleSubmit}>\r\n            <h2 className={css.formTitle}>\r\n                Вход\r\n            </h2>\r\n            <div className={css.formInputs}>\r\n                <div className={css.input}>\r\n                    <h3 className={css.inputTitle}>Email: </h3>\r\n                    <Field validate={[requiredField, maxLengthCreator30, minLengthCreator5]} type=\"text\" name={\"email\"} placeholder={\"Email\"} component={Input} />\r\n                </div>\r\n                <div className={css.input}>\r\n                    <h3 className={css.inputTitle}>Пароль: </h3>\r\n                    <Field validate={[requiredField, maxLengthCreator30, minLengthCreator5]} type=\"password\" name={\"password\"} placeholder={\"Пароль\"} component={Input}  />\r\n                </div>\r\n            </div>\r\n            <div className={css.formButtons + ' flex jcsb aic'}>\r\n                <label className={css.formCheckbox}>\r\n                    <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"} />\r\n                    <span>Запомнить меня</span>\r\n                </label>\r\n                <input type=\"submit\" className={css.formSignIn}>\r\n\r\n                </input>\r\n            </div>\r\n            <a href=\"#\" className={css.signupLink}>\r\n                Регистрация\r\n            </a>\r\n            \r\n        </form>\r\n    </>\r\n\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n\r\n    }\r\n    if(props.isAuth){ //true\r\n        return <Navigate to={\"/owncabinet\"} />\r\n        \r\n    }\r\n    \r\n    return(\r\n        <div className={css.login}>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport Login from '../Login/Login';\r\n\r\n\r\nconst LoginPage = () => {\r\n    return(\r\n        <div className={\"container mt-5\"}>\r\n          <h2 className={\"tac\"}>Вход в личный кабинет</h2>\r\n          <Login/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport {getAuthUserData, logout} from '../../redux/auth-reducer.js';\r\nimport * as axios from 'axios';\r\nimport { authAPI } from '../../api/api';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.getAuthUserData();\r\n      \r\n    }\r\n    render(){\r\n        return(<Header {...this.props}/>);\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        id: state.auth.id,\r\n        authAvatar: state.auth.authAvatar\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData, logout})(HeaderContainer);","// import { Route } from 'react-router';\nimport { NavLink, Route, Routes, Link } from 'react-router-dom';\nimport './App.css';\nimport OwnCabinetContainer from './components/OwnCabinet/OwnCabinetContainer';\nimport LoginPage from './components/LoginPage/LoginPage';\nimport HeaderContainer from './components/Header/HeaderContainer';\n\nconst App = () => {\n  return (\n\n    \n      <div className=\"App\">\n        <div className='container'>\n        <HeaderContainer/>\n        </div>\n        <Routes>\n          <Route path=\"/owncabinet\" element={<OwnCabinetContainer/>}/>\n          <Route path=\"/login\" element={<LoginPage/>}/>\n        </Routes>\n      </div>\n\n\n\n\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {authAPI} from '../api/api';\r\nlet initialState = {\r\n    authData: [],\r\n    formData : ''\r\n}\r\nconst loginReducer = (state = initialState, action) => {\r\n    let type = action.type;\r\n    switch (type) {\r\n        \r\n        \r\n        case SET_AUTH_DATA: {\r\n            return {\r\n                ...state,\r\n                authData: [...state.authData, action.authData]\r\n            }\r\n        }\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                formData: [...state.formData, action.formData]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst SET_AUTH_DATA = 'SET_AUTH_DATA';\r\nconst SET_FORM_DATA = 'SET_FORM_DATA';\r\n\r\nexport const setAuthData = authData => ({ type: SET_AUTH_DATA, authData });\r\nexport const setFormData = formData => ({ type: SET_FORM_DATA, formData });\r\n\r\nexport const getAuthDataThunk = () => {\r\n    return (dispatch) => {\r\n        authAPI.getAuthData().then(data=>{\r\n            return(\r\n                dispatch(setAuthData(data))\r\n            )\r\n        })\r\n    }\r\n}\r\nexport default loginReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport cabinetReducer from './cabinet-reducer';\r\nimport loginReducer from './login-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'; \r\nimport authReducer from \"./auth-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    cabinetPage: cabinetReducer,\r\n    loginPage: loginReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\nwindow.store = store; // for debugger","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from './redux/redux-store';\n\nReactDOM.render(\n  <React.StrictMode>\n    \n      <BrowserRouter>\n      \n        <Provider store={store}>\n          <App />\n        </Provider>\n      </BrowserRouter>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"OwnCabinet_avatar__1YWu5\",\"item\":\"OwnCabinet_item__3JXtM\",\"itemButton\":\"OwnCabinet_itemButton__1a9fe\",\"danger\":\"OwnCabinet_danger__1DqnN\",\"name\":\"OwnCabinet_name__32lRN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1U5MQ\",\"error\":\"FormsControls_error__2VWGp\"};"],"sourceRoot":""}